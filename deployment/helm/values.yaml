replicaCount: 1
name: mediator-service

image:
  repository: repository
  name: mediator-service
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "latest"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  #sha: ""
  # -- Image pull policy
  pullPolicy: Always
  # -- Image pull secret when internal image is used
  pullSecrets: regcred

podAnnotations: {}

resources:
  # requests:
  #   cpu: 25m
  #   memory: 64Mi
  # limits:
  #   cpu: 150m
  #   memory: 128Mi

service:
  port: 8080
  type: ClusterIP

server:
  http:
    port: 8080

ingress:
  enabled: false
  annotations:
    nginx.org/websocket-services: "gateway-cluster-ip-service"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "3600"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "3600"
  hosts:
    - host: changeme
      paths:
        - path: /
          backend:
            serviceName: mediator-service
            servicePort: 3000
    - host: changeme
      paths:
        - path: /ws
          backend:
            serviceName: mediator-service
            servicePort: 3001
  tls:
    - secretName: mediator-service-tls
      hosts: -changeme

security:
  runAsNonRoot: false
  runAsUid: 1000
  runAsGid: 1000
config:
  acapywalletkey: test
  label: XFSC-Mediator
  url: changeme
  mediatoragentadminapikey: test
  mediatorcontrolleradminapikey: test
  postgres:
    password:
      key: postgres-password
      name: postgres-dev
    user: postgres
    schema: DatabasePerWallet
