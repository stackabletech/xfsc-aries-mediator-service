# Configuration


The chart can be configured with a sample values yaml: 

```
replicaCount: 1
name: mediator-service

image:
  repository: node-654e3bca7fbeeed18f81d7c7.ps-xaas.io/pcm
  name: aries-mediator-service
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "0.8.2"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  #sha: ""
  # -- Image pull policy
  pullPolicy: Always
  # -- Image pull secret when internal image is used
  pullSecrets: regcred

podAnnotations: {}

resources:
  # requests:
  #   cpu: 25m
  #   memory: 64Mi
  # limits:
  #   cpu: 150m
  #   memory: 128Mi

server:
  http:
    port: 3000

ingress:
  enabled: true
  annotations:
    acme.cert-manager.io/http01-edit-in-place: "true"
    cert-manager.io/issuer: {lets encrypt issuer name}
    nginx.org/websocket-services: "aries-mediator-service"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "3600"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "3600"
    nginx.ingress.kubernetes.io/rewrite-target: /$2
    nginx.ingress.kubernetes.io/use-regex: "true"
    nginx.ingress.kubernetes.io/secure-backends: "true"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.org/websocket-services: "aries-mediator-service"

  hosts:
    - host: {CHANGE ME HOST}
      paths:
        - path: /mediator(/|$)(.*)
          port: 3000
    - host: {CHANGE ME HOST}
      paths:
        - path: /mediator(/|$)(.*)
          port: 3001
  tls:
    - secretName: aries-mediator-service-tls
      hosts: 
        - {CHANGE ME HOST}

security:
  runAsNonRoot: false
  runAsUid: 1000
  runAsGid: 1000
config:
  acapywalletkey: {CHANGE ME KEY}
  label: XFSC-Mediator
  url: {CHANGE ME HOST}/mediator
  mediatoragentadminapikey: {CHANGE ME KEY}
  mediatorcontrolleradminapikey: {CHANGE ME KEY}
  postgres:
    host: {CHANGE ME POSTGRES SERVICE}
    port: "5432"
    password:
      key: postgres-password
      name: postgres-dev
    super_password:
      key: postgres-password
      name: postgres-dev
    user: postgres
    super_user: postgres
    schema: DatabasePerWallet

```
